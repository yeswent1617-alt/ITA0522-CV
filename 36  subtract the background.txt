import cv2
import numpy as np

def subtract_background_by_color():
    # 1. Load the image
    img = cv2.imread(r'C:\Users\HP\Documents\openCV\sample.jpg')
    
    if img is None:
        print("Error: Could not load image.")
        return

    # 2. Convert to HSV color space (better for color-based segmentation)
    hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)

    # 3. Define the range of the background color you want to remove
    # Example: Removing a Green Screen background
    # Lower and Upper bounds for Green in HSV
    lower_bound = np.array([35, 40, 40])
    upper_bound = np.array([85, 255, 255])

    # 4. Create a mask that identifies only the background color
    mask = cv2.inRange(hsv, lower_bound, upper_bound)

    # 5. Invert the mask to get the foreground (the object)
    mask_inv = cv2.bitwise_not(mask)

    # 6. Bitwise-AND mask and original image to extract foreground
    foreground = cv2.bitwise_and(img, img, mask=mask_inv)

    # 7. Display results
    cv2.imshow('Original', img)
    cv2.imshow('Background Mask', mask)
    cv2.imshow('Subtracted Background (Foreground)', foreground)

    cv2.waitKey(0)
    cv2.destroyAllWindows()

# Run the function
subtract_background_by_color()
