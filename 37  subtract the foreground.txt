import cv2
import numpy as np

def subtract_foreground_by_color():
    # 1. Load the image
    img = cv2.imread(r'C:\Users\HP\Documents\openCV\sample.jpg')
    
    if img is None:
        print("Error: Could not load image.")
        return

    # 2. Convert to HSV (Hue, Saturation, Value) for easier color isolation
    hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)

    # 3. Define the range of the foreground color you want to subtract/remove
    # Example: Defining a range for Blue objects
    lower_blue = np.array([100, 50, 50])
    upper_blue = np.array([140, 255, 255])

    # 4. Create a mask identifying the foreground color
    foreground_mask = cv2.inRange(hsv, lower_blue, upper_blue)

    # 5. Create the background by removing the foreground
    # We use bitwise_not to get everything EXCEPT the foreground color
    background_mask = cv2.bitwise_not(foreground_mask)
    
    # 6. Apply the mask to the original image
    result = cv2.bitwise_and(img, img, mask=background_mask)

    # 7. Display the results
    cv2.imshow('Original Image', img)
    cv2.imshow('Subtracted Foreground Result', result)

    cv2.waitKey(0)
    cv2.destroyAllWindows()

# Run the function
subtract_foreground_by_color()
